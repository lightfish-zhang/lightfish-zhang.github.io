# 选举

- Redis 的哨兵选举与 cluster 选举的区别

哨兵

redis 实例启动时，可以选择 数据库模式 或 哨兵模式，一般 数据库 与 哨兵 是部署在不同的机器上。


- consul, etcd, zookeeper 相当于分布式服务架构中的哨兵


# 网络

- 网络模型中，Reactor 是同步非阻塞，proactor 是异步非阻塞

同步是指工作线程的调用是同步的，非阻塞是指io线程是非阻塞的，例如 golang的天然的编程方式

异步非阻塞，比较少见，给io事件传递函数数组

- 计算一个进程可以容纳多少个长连接

+ 内核的单个进程的文件描述符数量上限 `echo "655350" > /proc/sys/fs/file-max`
+ 临时端口范围
```conf
#  /etc/sysctl.conf
net.ipv4.ip_local_port_range = 10000 65535
```

+ IP_TABLE限制
+ TCP四元组，描述一个连接的数据结构的内存空间大小，如目标IP+目标端口，本进程设计的连接池的内存空间大小


- select/poll 与 epoll 的区别

+ 长连接句柄的活跃比较较多、连接数要求少的服务，用 select/poll 比较好，因为是主动轮询（上下文切换比较多）
+ 长连接句柄的活跃比例较少，连接数要求多的服务，用 epoll 比较好，在内核态中注册事件，用户态线程被动唤醒，内核态上下文切换比较少



# 灰度发布



# 数据库

- 联合索引，在使用联合索引来加快查询时，如果select 的字段不在联合索引中，mysql还是会进行回表查询，如果select的字段在联合索引中，不需回表，查询更快。这是一个性能优化的点。



# 算法

双指针算法，对解决数组、链表，时间复杂度、空间复杂度都比较好

搜索的算法：前缀树、线段树

